!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(e){return document.querySelector(e)}function o(e){return document.querySelectorAll(e)}function r(){return window.innerWidth<768}function s(e,t,n){Array.isArray(n)?e.classList[t](...n):e.classList[t](n)}function c(e,t,n){Array.isArray(e)||e.length?e.forEach(e=>s(e,t,n)):s(e,t,n)}function a(e,t){c(e,"add",t)}function d(e,t){c(e,"remove",t)}n.r(t);var l=function(e){const t=i(".navbar"),n=t.getBoundingClientRect().height,o=i("#home"),r=i("header ~ main");if(t){const e=["nav-background","is-fixed-top"];!function(e){const t=e.getBoundingClientRect(),n=document.querySelector(".hero.is-fullheight");return n?n.getBoundingClientRect().height>window.scrollY:e.classList.contains("is-fixed-top")?t.height+16>window.scrollY:t.top+t.height>0}(t)||window.location.hash?(o||(r.style.marginTop=n+"px"),a(t,e)):(o||(r.style.marginTop=0),d(t,e))}};function u(){r()&&(i("header.navbar").classList.toggle("is-open"),window.isMenuOpen=!window.isMenuOpen,window.isMenuOpen?(window.currentScrollY=window.scrollY,document.body.style.position="fixed"):(document.body.style.position="",window.scrollTo(0,window.currentScrollY||0),window.currentScrollY=0))}function f(e){e.preventDefault(),u();i(e.target.getAttribute("href").split("/")[1]).scrollIntoView({behavior:"smooth"})}var h=function(){if(i("[data-target=navbarMenuHeroC]").addEventListener("click",u),i("#home")){o('a[href^="/#"]').forEach(e=>e.addEventListener("click",f))}else if(i("#project")){i('a[href^="/#contato"]').addEventListener("click",f)}};function g(e,t,n,i){"out"===t?(e.classList.remove("fade-in",n+"-in"),e.classList.add("fade-out",i+"-out")):"in"===t&&(e.classList.add("fade-in",n+"-in"),e.classList.remove("fade-out",i+"-out"))}function p(e,t,n,i){Array.isArray(e)||e.length?e.forEach(e=>g(e,t,n,i)):g(e,t,n,i)}const v="scale",w="slide",m="slide-left",b="slide-right";var y=(e,t)=>p(e,t,v,v),E=(e,t)=>{p(e,t,w,m)},L=(e,t)=>{p(e,t,w,b)};function j(e){const t=i(".carousel-card");let[n,o]=t.children;y([o,n],"out"),n.setAttribute("href",e.slug),o.setAttribute("href",e.slug),setTimeout((function(){n.firstElementChild.setAttribute("src",e.image);const[t,i]=o.firstElementChild.children;t.innerHTML=e.title,i.innerHTML=e.segment,y([o,n],"in")}),300)}function x(e,t,n){e.dataset.postId=t.id,n(e,"out"),setTimeout((function(){const[i,o]=e.children;i.innerHTML=t.title,o.innerHTML=t.segment,n(e,"in")}),300)}async function k(e){e.preventDefault();const t=e.target.parentElement,{postId:n}=t.dataset?t.dataset:t.parentElement.dataset,o=window.projects[n];j(o);i(".carousel-item-navleft").dataset.postId=o.prev,i(".carousel-item-navright").dataset.postId=o.next}async function M(e){e.preventDefault();const{postId:t}=e.target.dataset,n=window.projects[t];j(n);const i=window.projects[n.prev],r=window.projects[n.next],[s,c]=o(".carousel-item-content");x(s,i,E),x(c,r,L)}var S=async function(){if(window.projects=function(){const e=window.featuredProjects.reduce((e,t)=>({...e,[t.id]:{...t}}),{});return window.featuredProjects.forEach((t,n,i)=>{0===n?(e[t.id].prev=i[i.length-1].id,e[t.id].next=i[n+1].id):n===i.length-1?(e[t.id].prev=i[n-1].id,e[t.id].next=i[0].id):(e[t.id].prev=i[n-1].id,e[t.id].next=i[n+1].id)}),e}(),r()){const e=i(".carousel-item-navleft"),t=i(".carousel-item-navright");e&&t&&(e.addEventListener("click",k),t.addEventListener("click",k))}else{o(".carousel-item-content[data-post-id]").forEach(e=>e.addEventListener("click",M))}};function T(e){o(".wpcf7-not-valid-tip").forEach(e=>{e.parentElement.parentElement.appendChild(e)})}var C=function(){const e=i(".wpcf7");e&&e.addEventListener("wpcf7invalid",T,!1)};var O=function(){const e=o(".wp-block-image"),t=i("#contato");let n,r,s;if(e.length){n=e[0].querySelector("img").getAttribute("src"),r=t.querySelector("h2"),s=document.querySelectorAll(".project-nav");const i={threshold:.25};window.observer=new IntersectionObserver((function(e){e.forEach(e=>{const{isIntersecting:t,intersectionRect:i,target:o}=e,r=o.classList.contains("wp-block-image"),c=r&&o.querySelector("img").getAttribute("src")===n;t?r?d(s,"is-hidden"):a(s,"is-hidden"):i.top>0&&(c?a(s,"is-hidden"):d(s,"is-hidden"))})}),i),e.forEach(e=>window.observer.observe(e)),window.observer.observe(r)}};function $(){return i(".projects")}function A(){return o(".projects-card")}function I({id:e,title:t,permalink:n,imgSrc:i}){const o=document.createElement("div");o.classList.add("projects-card","fade-out"),o.dataset.id=e;const r=`\n    <a href="${n}">\n      <figure>\n        <img src="${i}" alt=${t} />\n      </figure>\n      <span>${t}</span>\n    </a>\n  `;return o.innerHTML=r.trim(),o}async function H(){const e=A(),t={0:0,1:0,2:0},n=[];e.forEach((e,i)=>{const o=e.querySelector("img"),r=new Promise(n=>{if(o.complete){const o=e.getBoundingClientRect().height;t[i%3]+=Math.floor(o)+2,n()}else o.onload=function(){const o=e.getBoundingClientRect().height;t[i%3]+=Math.floor(o)+2,n()}});n.push(r)}),await Promise.all(n);const i=Object.values(t).sort((e,t)=>e-t),o=i[2],r=i[0];return{containerHeight:o,observerColumn:Object.values(t).reverse().reduce((e,t,n)=>t===r?n+1:e,0)}}function q(e){const t=($().getBoundingClientRect().width-24-36)/3;let n=0;return e.forEach(e=>{const i=t/e.imgWidth,o=Math.floor(e.imgHeight*i+20)+1;o>n&&(n=o)}),n}async function P(){const e=A();if(!r()){const{containerHeight:t,observerColumn:n}=await H();return $().style.height=t+48+"px",e[e.length-n]}return e[e.length-1]}async function R(e){const t=await P();window.observer=new IntersectionObserver((function(n){n.forEach(n=>{n.isIntersecting&&t.id===n.target.id&&async function(e,t){const n=$();let i=A();const o=e.slice(i.length,i.length+3);if(!o.length)return void window.observer.unobserve(t);if(!r()){const e=q(o),t=n.getBoundingClientRect().height;n.style.height=t+e+24+"px"}o.forEach(e=>n.appendChild(I(e)));const s=function(e){return e.querySelectorAll(".fade-out")}(n);if(setTimeout((function(){y(s,"in")}),250),window.observer.unobserve(t),i.length+o.length<e.length){const e=await P();window.observer.observe(e)}else if(!r()){const{containerHeight:e}=await H();n.style.height=e+24+"px"}}(e,t)})}),{threshold:1}),window.observer.observe(t)}function B(e){const t=e?window.projects.filter(t=>t.segment.includes(e)):window.projects;window.observer.disconnect();const n=$();let i=A();i.forEach(e=>e.classList.add("fade-out")),setTimeout((function(){if(i.forEach(e=>e.remove()),!r()){const e=q(t.slice(0,3)),i=q(t.slice(3,6));n.style.height=e+i+24+"px"}t.slice(0,6).forEach(e=>n.appendChild(I(e))),i=A(),setTimeout((function(){y(i,"in")}),250),R(t)}),250)}function Y(e){e.preventDefault();const{target:t}=e,n=i(".button-filter.is-active");n.addEventListener("click",Y),n.classList.remove("is-active"),t.removeEventListener("click",Y),t.classList.add("is-active"),B(parseInt(t.dataset.segment,10))}var D=async function(){R(window.projects),o(".button-filter:not(.is-active)").forEach(e=>{e.addEventListener("click",Y)}),i("select[name=categories]").addEventListener("change",(function(e){e.preventDefault(),B(parseInt(e.target.value,10))}))};var _=function(){const e=i(".blog"),t={threshold:.75};window.observer=new IntersectionObserver((function(s){s.forEach(s=>{if(s.isIntersecting&&r.id===s.target.id){window.posts.slice(n,n+2).forEach(t=>e.appendChild(function(e){const t=document.createElement("div");t.classList.add("blog-card","fade-out"),t.dataset.id=e.id;const n=`\n    <a href="${e.permalink}">\n      <img class="blog-card-image" src="${e.imgSrc}" alt="${e.title}" />\n    </a>\n    <div class="blog-card-content">\n      <a class="is-block" href="${e.permalink}">\n        <h4 class="blog-card-title">${e.title}</h4>\n      </a>\n      <span>${e.date}</span> | \n      <span class="has-text-weight-semibold">${e.author}</span>\n      <span class="is-block has-text-weight-semibold mb-4">\n        ${i=e.categories,i.map(e=>`<a href="${e.permalink}">${e.name}</a>`).join(", ")}\n      </span>\n      <div class="blog-card-excerpt">\n        ${e.excerpt}\n        <a class="button is-dark is-uppercase has-text-weight-bold" href="${e.permalink}">\n          Ler Mais\n        </a>\n      </div>\n    </div>\n  `;var i;return t.innerHTML=n.trim(),t}(t))),setTimeout((function(){o(".blog-card.fade-out").forEach(e=>{e.classList.add("fade-in"),setTimeout((function(){e.classList.remove("fade-out")}),250)})}),250),n=o(".blog-card").length,window.observer.unobserve(r),n<window.posts.length&&(r=i(".blog-card:last-child"),window.observer.observe(r,t))}})}),t);let n=o(".blog-card").length,r=i(".blog-card:last-child");window.observer.observe(r,t)};document.addEventListener("DOMContentLoaded",(function(){window.isMenuOpen=!1,window.currentScrollY=0,h(),i("#home")?(S(),C()):i("#project")?(O(),C()):i("#projects")?D():i("#blog")&&_()})),document.addEventListener("scroll",l)}]);
//# sourceMappingURL=main.js.map